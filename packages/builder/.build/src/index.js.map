{"version":3,"sources":["src/index.ts"],"sourcesContent":["import { Command } from \"commander\";\nimport { readFileSync } from \"fs\";\nimport path from \"path\";\nimport { buildDir } from \"./constants\";\nimport fullBuild from \"./fullBuild\";\nimport loadEnvVars from \"./loadEnvVars\";\nexport { default as deploy } from \"./deploy\";\n\nconst program = new Command();\nprogram.version(\n  JSON.parse(readFileSync(path.join(__dirname, \"..\", \"package.json\"), \"utf-8\"))\n    .version\n);\n\nprogram\n  .command(\"build\")\n  .description(\"Build the project\")\n  .action(async () => {\n    const sourceDir = process.cwd();\n    const envVars = await loadEnvVars(sourceDir);\n    await fullBuild({ buildDir, envVars, install: false, sourceDir });\n  });\n\nprogram.action(() => console.log(\"OK\"));\n\nprogram.parse(process.argv);\n"],"names":["deploy","default","program","version","JSON","parse","join","__dirname","command","description","action","sourceDir","process","cwd","envVars","buildDir","install","console","log","argv"],"mappings":";;;;+BAMoBA,CAAM;;;uBAAjBC,OAAO;;;AANQ,GAAW,CAAX,UAAW;AACN,GAAI,CAAJ,GAAI;AAChB,GAAM,CAAN,KAAM;AACE,GAAa,CAAb,UAAa;AAChB,GAAa,CAAb,UAAa;AACX,GAAe,CAAf,YAAe;;AAGvC,KAAK,CAACC,OAAO,GAAG,GAAG,CARK,UAAW;AASnCA,OAAO,CAACC,OAAO,CACbC,IAAI,CAACC,KAAK,KATiB,GAAI,eAChB,KAAM,SAQQC,IAAI,CAACC,SAAS,EAAE,CAAI,KAAE,CAAc,gBAAG,CAAO,SACxEJ,OAAO;AAGZD,OAAO,CACJM,OAAO,CAAC,CAAO,QACfC,WAAW,CAAC,CAAmB,oBAC/BC,MAAM,WAAa,CAAC;IACnB,KAAK,CAACC,SAAS,GAAGC,OAAO,CAACC,GAAG;IAC7B,KAAK,CAACC,OAAO,GAAG,KAAK,KAdD,YAAe,UAcDH,SAAS;IAC3C,KAAK,KAhBa,UAAa,UAgBf,CAAC;QAACI,QAAQ,EAjBL,UAAa;QAiBND,OAAO;QAAEE,OAAO,EAAE,KAAK;QAAEL,SAAS;IAAC,CAAC;AAClE,CAAC;AAEHT,OAAO,CAACQ,MAAM,KAAOO,OAAO,CAACC,GAAG,CAAC,CAAI;;AAErChB,OAAO,CAACG,KAAK,CAACO,OAAO,CAACO,IAAI"}
{"version":3,"sources":["src/index.ts"],"sourcesContent":["import { buildProject } from \"@queue-run/builder\";\nimport { Command } from \"commander\";\nimport ms from \"ms\";\nimport devServer from \"./dev\";\n\nconst pkg = require(\"../package.json\");\n\nconst program = new Command();\n\nprogram.version(pkg.version);\nprogram.addCommand(devServer);\n\nprogram\n  .command(\"build\")\n  .description(\"Build the backend\")\n  .option(\"-o, --output <dir>\", \"Output directory\", \".build\")\n  .action(async () => {\n    const sourceDir = process.cwd();\n    await buildProject({ install: false, sourceDir });\n  });\n\nprogram.showSuggestionAfterError();\nprogram.addHelpCommand();\nprogram.configureHelp({\n  sortSubcommands: true,\n  sortOptions: true,\n});\nprogram\n  .parseAsync(process.argv)\n  .then(() => {\n    if (process.stdout.isTTY)\n      console.info(\"ðŸŒŸ Done in %s\", ms(process.uptime() * 1000));\n    return undefined;\n  })\n  .catch((error) => {\n    console.error(String(error));\n    process.exit(1);\n  });\n"],"names":["pkg","require","program","version","addCommand","command","description","option","action","sourceDir","process","cwd","install","showSuggestionAfterError","addHelpCommand","configureHelp","sortSubcommands","sortOptions","parseAsync","argv","then","stdout","isTTY","console","info","uptime","undefined","catch","error","String","exit"],"mappings":";AAA6B,GAAoB,CAApB,QAAoB;AACzB,GAAW,CAAX,UAAW;AACpB,GAAI,CAAJ,GAAI;AACG,GAAO,CAAP,IAAO;AAE7B,KAAK,CAACA,GAAG,GAAGC,OAAO,CAAC,CAAiB;AAErC,KAAK,CAACC,OAAO,GAAG,GAAG,CANK,UAAW;AAQnCA,OAAO,CAACC,OAAO,CAACH,GAAG,CAACG,OAAO;AAC3BD,OAAO,CAACE,UAAU,CAPI,IAAO;AAS7BF,OAAO,CACJG,OAAO,CAAC,CAAO,QACfC,WAAW,CAAC,CAAmB,oBAC/BC,MAAM,CAAC,CAAoB,qBAAE,CAAkB,mBAAE,CAAQ,SACzDC,MAAM,WAAa,CAAC;IACnB,KAAK,CAACC,SAAS,GAAGC,OAAO,CAACC,GAAG;IAC7B,KAAK,KAlBoB,QAAoB,eAkB1B,CAAC;QAACC,OAAO,EAAE,KAAK;QAAEH,SAAS;IAAC,CAAC;AAClD,CAAC;AAEHP,OAAO,CAACW,wBAAwB;AAChCX,OAAO,CAACY,cAAc;AACtBZ,OAAO,CAACa,aAAa,CAAC,CAAC;IACrBC,eAAe,EAAE,IAAI;IACrBC,WAAW,EAAE,IAAI;AACnB,CAAC;AACDf,OAAO,CACJgB,UAAU,CAACR,OAAO,CAACS,IAAI,EACvBC,IAAI,KAAO,CAAC;IACX,EAAE,EAAEV,OAAO,CAACW,MAAM,CAACC,KAAK,EACtBC,OAAO,CAACC,IAAI,CAAC,CAAc,sBA7BlB,GAAI,UA6BmBd,OAAO,CAACe,MAAM,KAAK,IAAI;IACzD,MAAM,CAACC,SAAS;AAClB,CAAC,EACAC,KAAK,EAAEC,KAAK,GAAK,CAAC;IACjBL,OAAO,CAACK,KAAK,CAACC,MAAM,CAACD,KAAK;IAC1BlB,OAAO,CAACoB,IAAI,CAAC,CAAC;AAChB,CAAC"}